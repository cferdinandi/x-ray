/** x-ray v4.3.1, by Chris Ferdinandi | http://github.com/cferdinandi/x-ray | Licensed under MIT: http://gomakethings.com/mit/ */
!function(e,t){"function"==typeof define&&define.amd?define("xray",t(e)):"object"==typeof exports?module.exports=t(e):e.xray=t(e)}(this,function(e){"use strict";var t,a,o={},r=!!document.querySelector&&!!e.addEventListener,l=[],c={toggleActiveClass:"active",initClass:"js-x-ray",callbackBefore:function(){},callbackAfter:function(){}},n=function(e,t,a){if("[object Object]"===Object.prototype.toString.call(e))for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(a,e[o],o,e);else for(var r=0,l=e.length;l>r;r++)t.call(a,e[r],r,e)},s=function(e,t){var a={};return n(e,function(t,o){a[o]=e[o]}),n(t,function(e,o){a[o]=t[o]}),a},i=function(e){n(e,function(e){var t=e.type.toLowerCase();"password"===t?e.type="text":"text"===t&&(e.type="password")})},u=function(e,t,a,o){var r=e.querySelector("[data-x-ray-show]"),l=e.querySelector("[data-x-ray-hide]"),c=document.querySelectorAll(a);"show"===t?(i(c),l&&l.classList.add(o.toggleActiveClass)):r&&r.classList.add(o.toggleActiveClass)},d=function(e,t){var a=e.querySelector(".x-ray-show"),o=e.querySelector(".x-ray-hide");o&&o.classList.toggle(t.toggleActiveClass),a&&a.classList.toggle(t.toggleActiveClass)};return o.runToggle=function(e,t,a,o){var r=s(r||c,a||{}),l=document.querySelectorAll(t);r.callbackBefore(e,t),e&&("a"===e.tagName.toLowerCase()||"button"===e.tagName.toLowerCase())&&o&&o.preventDefault(),i(l),d(e,r),r.callbackAfter(e,t)},o.destroy=function(){t&&(document.documentElement.classList.remove(t.initClass),a&&(n(a,function(e,a){var o=document.querySelectorAll(e.getAttribute("data-x-ray")),r=e.querySelector("[data-x-ray-show]"),c=e.querySelector("[data-x-ray-hide]");e.removeEventListener("click",l[a],!1),n(o,function(e){e.type="password"}),r.classList.remove(t.toggleActiveClass),c.classList.remove(t.toggleActiveClass)}),l=[]),t=null,a=null)},o.init=function(e){r&&(o.destroy(),t=s(c,e||{}),a=document.querySelectorAll("[data-x-ray]"),document.documentElement.classList.add(t.initClass),n(a,function(e,a){var r=e.getAttribute("data-default"),c=e.getAttribute("data-x-ray");u(e,r,c,t),l[a]=o.runToggle.bind(null,e,c,t),e.addEventListener("click",l[a],!1)}))},o});