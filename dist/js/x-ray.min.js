/*! x-ray v9.0.0 | (c) 2015 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/x-ray */
!function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.xray=e(t)}("undefined"!=typeof global?global:this.window||this.global,function(t){"use strict";var e,r,o={},a="querySelector"in document&&"addEventListener"in t&&"classList"in document.createElement("_"),n={selector:"[data-x-ray]",selectorShow:"[data-x-ray-show]",selectorHide:"[data-x-ray-hide]",toggleActiveClass:"active",initClass:"js-x-ray",callback:function(){}},l=function(t,e,r){if("[object Object]"===Object.prototype.toString.call(t))for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(r,t[o],o,t);else for(var a=0,n=t.length;n>a;a++)e.call(r,t[a],a,t)},c=function(){var t={},e=!1,r=0,o=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],r++);for(var a=function(r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e&&"[object Object]"===Object.prototype.toString.call(r[o])?t[o]=c(!0,t[o],r[o]):t[o]=r[o])};o>r;r++){var n=arguments[r];a(n)}return t},s=function(t,e){var r,o,a=e.charAt(0);for("["===a&&(e=e.substr(1,e.length-2),r=e.split("="),r.length>1&&(o=!0,r[1]=r[1].replace(/"/g,"").replace(/'/g,"")));t&&t!==document;t=t.parentNode){if("."===a&&t.classList.contains(e.substr(1)))return t;if("#"===a&&t.id===e.substr(1))return t;if("["===a&&t.hasAttribute(r[0])){if(!o)return t;if(t.getAttribute(r[0])===r[1])return t}if(t.tagName.toLowerCase()===e)return t}return null},i=function(t){l(t,function(t){var e=t.type.toLowerCase();"password"===e?t.type="text":"text"===e&&(t.type="password")})},u=function(t,e,r,o){var a=t.querySelector(o.selectorShow),n=t.querySelector(o.selectorHide),l=document.querySelectorAll(r);"show"===e?(i(l),n&&n.classList.add(o.toggleActiveClass)):a&&a.classList.add(o.toggleActiveClass)},d=function(t,e){var r=t.querySelector(".x-ray-show"),o=t.querySelector(".x-ray-hide");o&&o.classList.toggle(e.toggleActiveClass),r&&r.classList.toggle(e.toggleActiveClass)};o.runToggle=function(t,e,r,o){var a=c(a||n,r||{}),l=document.querySelectorAll(e);i(l),d(t,a),a.callback(t,e)};var g=function(t){var r=s(t.target,e.selector);r&&(("a"===r.tagName.toLowerCase()||"button"===r.tagName.toLowerCase())&&t.preventDefault(),o.runToggle(r,r.getAttribute("data-x-ray"),e))};return o.destroy=function(){e&&(document.documentElement.classList.remove(e.initClass),document.removeEventListener("click",g,!1),r&&l(r,function(t){var r=document.querySelectorAll(t.getAttribute("data-x-ray")),o=t.querySelector(e.selectorShow),a=t.querySelector(e.selectorHide);l(r,function(t){t.type="password"}),o.classList.remove(e.toggleActiveClass),a.classList.remove(e.toggleActiveClass)}),e=null,r=null)},o.init=function(t){a&&(o.destroy(),e=c(n,t||{}),r=document.querySelectorAll(e.selector),document.documentElement.classList.add(e.initClass),l(r,function(t,r){var o=t.getAttribute("data-default"),a=t.getAttribute("data-x-ray");u(t,o,a,e)}),document.addEventListener("click",g,!1))},o});