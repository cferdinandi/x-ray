/** x-ray v5.0.3, by Chris Ferdinandi | http://github.com/cferdinandi/x-ray | Licensed under MIT: http://gomakethings.com/mit/ */
!function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.xray=e(t)}("undefined"!=typeof global?global:this.window||this.global,function(t){"use strict";var e,a,r={},o=!!document.querySelector&&!!t.addEventListener,n={toggleActiveClass:"active",initClass:"js-x-ray",callbackBefore:function(){},callbackAfter:function(){}},l=function(t,e,a){if("[object Object]"===Object.prototype.toString.call(t))for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(a,t[r],r,t);else for(var o=0,n=t.length;n>o;o++)e.call(a,t[o],o,t)},c=function(t,e){var a={};return l(t,function(e,r){a[r]=t[r]}),l(e,function(t,r){a[r]=e[r]}),a},s=function(t,e){for(var a=e.charAt(0);t&&t!==document;t=t.parentNode)if("."===a){if(t.classList.contains(e.substr(1)))return t}else if("#"===a){if(t.id===e.substr(1))return t}else if("["===a&&t.hasAttribute(e.substr(1,e.length-2)))return t;return!1},i=function(t){l(t,function(t){var e=t.type.toLowerCase();"password"===e?t.type="text":"text"===e&&(t.type="password")})},u=function(t,e,a,r){var o=t.querySelector("[data-x-ray-show]"),n=t.querySelector("[data-x-ray-hide]"),l=document.querySelectorAll(a);"show"===e?(i(l),n&&n.classList.add(r.toggleActiveClass)):o&&o.classList.add(r.toggleActiveClass)},d=function(t,e){var a=t.querySelector(".x-ray-show"),r=t.querySelector(".x-ray-hide");r&&r.classList.toggle(e.toggleActiveClass),a&&a.classList.toggle(e.toggleActiveClass)};r.runToggle=function(t,e,a){var r=c(r||n,a||{}),o=document.querySelectorAll(e);r.callbackBefore(t,e),i(o),d(t,r),r.callbackAfter(t,e)};var f=function(t){var a=s(t.target,"[data-x-ray]");a&&(("a"===a.tagName.toLowerCase()||"button"===a.tagName.toLowerCase())&&t.preventDefault(),r.runToggle(a,a.getAttribute("data-x-ray"),e))};return r.destroy=function(){e&&(document.documentElement.classList.remove(e.initClass),document.removeEventListener("click",f,!1),a&&l(a,function(t){var a=document.querySelectorAll(t.getAttribute("data-x-ray")),r=t.querySelector("[data-x-ray-show]"),o=t.querySelector("[data-x-ray-hide]");l(a,function(t){t.type="password"}),r.classList.remove(e.toggleActiveClass),o.classList.remove(e.toggleActiveClass)}),e=null,a=null)},r.init=function(t){o&&(r.destroy(),e=c(n,t||{}),a=document.querySelectorAll("[data-x-ray]"),document.documentElement.classList.add(e.initClass),l(a,function(t){var a=t.getAttribute("data-default"),r=t.getAttribute("data-x-ray");u(t,a,r,e)}),document.addEventListener("click",f,!1))},r});