/** x-ray v5.0.1, by Chris Ferdinandi | http://github.com/cferdinandi/x-ray | Licensed under MIT: http://gomakethings.com/mit/ */
!function(t,e){"function"==typeof define&&define.amd?define("xray",e(t)):"object"==typeof exports?module.exports=e(t):t.xray=e(t)}(this,function(t){"use strict";var e,r,a={},o=!!document.querySelector&&!!t.addEventListener,n={toggleActiveClass:"active",initClass:"js-x-ray",callbackBefore:function(){},callbackAfter:function(){}},c=function(t,e,r){if("[object Object]"===Object.prototype.toString.call(t))for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(r,t[a],a,t);else for(var o=0,n=t.length;n>o;o++)e.call(r,t[o],o,t)},s=function(t,e){var r={};return c(t,function(e,a){r[a]=t[a]}),c(e,function(t,a){r[a]=e[a]}),r},l=function(t,e){for(var r=e.charAt(0);t&&t!==document;t=t.parentNode)if("."===r){if(t.classList.contains(e.substr(1)))return t}else if("#"===r){if(t.id===e.substr(1))return t}else if("["===r&&t.hasAttribute(e.substr(1,e.length-2)))return t;return!1},i=function(t){c(t,function(t){var e=t.type.toLowerCase();"password"===e?t.type="text":"text"===e&&(t.type="password")})},u=function(t,e,r,a){var o=t.querySelector("[data-x-ray-show]"),n=t.querySelector("[data-x-ray-hide]"),c=document.querySelectorAll(r);"show"===e?(i(c),n&&n.classList.add(a.toggleActiveClass)):o&&o.classList.add(a.toggleActiveClass)},d=function(t,e){var r=t.querySelector(".x-ray-show"),a=t.querySelector(".x-ray-hide");a&&a.classList.toggle(e.toggleActiveClass),r&&r.classList.toggle(e.toggleActiveClass)};a.runToggle=function(t,e,r){var a=s(a||n,r||{}),o=document.querySelectorAll(e);a.callbackBefore(t,e),i(o),d(t,a),a.callbackAfter(t,e)};var f=function(t){var r=l(t.target,"[data-x-ray]");r&&(("a"===r.tagName.toLowerCase()||"button"===r.tagName.toLowerCase())&&t.preventDefault(),a.runToggle(r,r.getAttribute("data-x-ray"),e))};return a.destroy=function(){e&&(document.documentElement.classList.remove(e.initClass),document.removeEventListener("click",f,!1),r&&c(r,function(t){var r=document.querySelectorAll(t.getAttribute("data-x-ray")),a=t.querySelector("[data-x-ray-show]"),o=t.querySelector("[data-x-ray-hide]");c(r,function(t){t.type="password"}),a.classList.remove(e.toggleActiveClass),o.classList.remove(e.toggleActiveClass)}),e=null,r=null)},a.init=function(t){o&&(a.destroy(),e=s(n,t||{}),r=document.querySelectorAll("[data-x-ray]"),document.documentElement.classList.add(e.initClass),c(r,function(t){var r=t.getAttribute("data-default"),a=t.getAttribute("data-x-ray");u(t,r,a,e)}),document.addEventListener("click",f,!1))},a});